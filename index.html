<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUCCABET - Casa de Apostas Virtual</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .logo-text::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #facc15, transparent);
            animation: bleed 2s infinite;
        }
        @keyframes bleed {
            0% { opacity: 0; transform: scaleX(0); }
            50% { opacity: 1; transform: scaleX(1); }
            100% { opacity: 0; transform: scaleX(0); }
        }
        .futebol-digital-bg {
            background-image: url('https://images.unsplash.com/photo-1579952363873-27f3bade9f55?q=80&w=1935&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .futebol-digital-overlay {
            background-color: rgba(0,0,0,0.85);
        }
        .bet-option.selected {
            background-color: #22c55e;
            color: white;
            border-color: #16a34a;
            transform: scale(1.05);
        }
        #bet-slip {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        @media (min-width: 1024px) {
            #bet-slip-desktop {
                max-height: calc(100vh - 120px);
            }
        }
        @media (max-width: 1023px) {
            #bet-slip {
                transform: translateY(100%);
                opacity: 0;
            }
            #bet-slip.active {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .form-group {
            position: relative;
        }
        .error-message {
            color: #ef4444;
            font-size: 0.75rem;
            position: absolute;
            bottom: -18px;
            left: 0;
            display: none;
        }
        input.invalid {
            border-color: #ef4444;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .game-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(250, 204, 21, 0.1);
        }
        .game-card .play-btn {
            opacity: 0;
            transition: opacity 0.3s;
        }
        .game-card:hover .play-btn {
            opacity: 1;
        }
        .carousel-slide {
            display: none;
        }
        .carousel-slide.active {
            display: block;
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen font-sans">

    <!-- TELA DE LOGIN/CADASTRO -->
    <div id="login-screen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-900 p-6 sm:p-8 rounded-xl shadow-2xl border border-blue-500 max-w-md w-full">
            <div class="flex justify-center items-center mb-6">
                <span class="text-3xl font-bold logo-text relative">LUCCA<span class="text-yellow-400">BET</span></span>
            </div>
             <div id="auth-error-message" class="hidden bg-red-900 border border-red-700 text-red-300 px-4 py-2 rounded-lg text-center text-sm mb-4"></div>

            <!-- FORMULÁRIO DE LOGIN -->
            <form id="login-form" class="space-y-4">
                <h2 class="text-xl font-bold text-center text-white mb-4">Acessar Conta</h2>
                <div class="form-group">
                    <label for="login-identifier" class="block text-sm font-medium mb-1">E-mail ou Nome de Usuário</label>
                    <input type="text" id="login-identifier" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="form-group">
                    <label for="login-password" class="block text-sm font-medium mb-1">Senha</label>
                    <input type="password" id="login-password" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition duration-300">
                    Entrar
                </button>
                <div class="text-center text-sm">
                    <span class="text-gray-400">Não tem uma conta?</span>
                    <button type="button" id="show-register" class="text-yellow-400 hover:text-yellow-300 ml-1 font-semibold">Cadastre-se</button>
                </div>
            </form>
            
            <!-- FORMULÁRIO DE CADASTRO -->
            <form id="register-form" class="hidden space-y-4">
                 <h2 class="text-xl font-bold text-center text-white mb-4">Criar Nova Conta</h2>
                <div class="form-group">
                    <label for="reg-fullname" class="block text-sm font-medium mb-1">Nome Completo</label>
                    <input type="text" id="reg-fullname" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                    <div class="error-message">Campo obrigatório.</div>
                </div>
                <div class="form-group">
                    <label for="reg-username" class="block text-sm font-medium mb-1">Nome de Usuário</label>
                    <input type="text" id="reg-username" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                    <div class="error-message">Nome de usuário inválido.</div>
                </div>
                <div class="form-group">
                    <label for="reg-email" class="block text-sm font-medium mb-1">E-mail</label>
                    <input type="email" id="reg-email" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                     <div class="error-message">E-mail inválido.</div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label for="reg-birthdate" class="block text-sm font-medium mb-1">Data de Nascimento</label>
                        <input type="date" id="reg-birthdate" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                         <div class="error-message">Você deve ter +18 anos.</div>
                    </div>
                    <div class="form-group">
                        <label for="reg-password" class="block text-sm font-medium mb-1">Senha</label>
                        <input type="password" id="reg-password" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" required>
                        <div class="error-message">Mínimo 6 caracteres.</div>
                    </div>
                </div>
                 <div class="form-group flex items-center pt-2">
                    <input type="checkbox" id="reg-terms" class="h-4 w-4 bg-gray-700 border-gray-600 text-green-600 focus:ring-green-500 rounded" required>
                    <label for="reg-terms" class="ml-2 block text-sm text-gray-300">Eu li e aceito os <a href="#" class="text-yellow-400 hover:underline">Termos de Uso</a>.</label>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition duration-300">
                    Cadastrar
                </button>
                <div class="text-center text-sm">
                    <span class="text-gray-400">Já tem uma conta?</span>
                    <button type="button" id="show-login" class="text-yellow-400 hover:text-yellow-300 ml-1 font-semibold">Faça login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- APLICAÇÃO PRINCIPAL -->
    <div id="main-app" class="hidden">
        <header class="bg-gray-900 border-b border-gray-800 sticky top-0 z-40">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold ml-2 logo-text relative">LUCCA<span class="text-yellow-400">BET</span></span>
                </div>
                
                <div class="flex items-center space-x-2 sm:space-x-4">
                    <div class="bg-gray-800 px-3 py-2 rounded-lg flex items-center">
                        <span class="text-gray-400 mr-2 hidden sm:inline">Saldo:</span>
                        <span id="user-balance" class="font-bold text-green-500 text-sm sm:text-base">CB$ 0,00</span>
                    </div>
                    <button id="deposit-btn" class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg transition duration-300 text-sm sm:text-base">
                        Depositar
                    </button>
                    <div class="relative">
                        <button id="user-menu-btn" class="w-10 h-10 rounded-full cursor-pointer bg-gray-800 flex items-center justify-center text-xl">💸</button>
                        <div id="user-menu" class="hidden absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-700">
                            <a href="#" id="affiliate-link" class="block px-4 py-2 text-sm hover:bg-gray-700">Indique e Ganhe</a>
                            <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-700" onclick="alert('Histórico de apostas')">Histórico</a>
                            <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-700" onclick="alert('Configurações da conta')">Configurações</a>
                            <div class="border-t border-gray-700"></div>
                            <a href="#" id="logout-btn" class="block px-4 py-2 text-sm hover:bg-gray-700 text-yellow-400">Sair</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <nav class="bg-gray-900 border-b border-gray-800">
            <div class="container mx-auto px-4">
                <div class="flex space-x-1 overflow-x-auto">
                    <button id="home-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800 whitespace-nowrap">Início</button>
                    <button id="casino-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800 whitespace-nowrap">Cassino</button>
                    <button id="games-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800 whitespace-nowrap">Jogos</button>
                    <button id="futebol-digital-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800 whitespace-nowrap">Futebol Digital</button>
                </div>
            </div>
        </nav>

        <main class="container mx-auto px-4 py-6">
            
            <!-- SEÇÃO DE BOAS-VINDAS (INÍCIO) -->
            <div id="home-section">
                 <h1 class="text-3xl md:text-4xl font-bold mb-2">Bem-vindo, <span id="welcome-username" class="text-yellow-400">Usuário</span>!</h1>
                 <p class="text-lg text-gray-400 mb-8">Pronto para a emoção? Seu saldo é: <span id="welcome-balance" class="font-bold text-green-500">CB$ 0,00</span></p>

                <!-- CAROUSEL -->
                <div id="main-carousel" class="relative rounded-lg overflow-hidden mb-12 shadow-lg">
                    <!-- Slides -->
                    <div class="carousel-slide active">
                        <img src="https://placehold.co/1200x400/000000/facc15?text=Bônus+de+Boas+Vindas+de+150%25" class="w-full object-cover">
                    </div>
                    <div class="carousel-slide">
                        <img src="https://placehold.co/1200x400/111827/22c55e?text=Novos+Jogos+de+Slot+Adicionados" class="w-full object-cover">
                    </div>
                    <div class="carousel-slide">
                        <img src="https://placehold.co/1200x400/1f2937/3b82f6?text=Aposte+no+Futebol+Digital" class="w-full object-cover">
                    </div>
                    <!-- Controles -->
                    <button id="prev-slide" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full">&lt;</button>
                    <button id="next-slide" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full">&gt;</button>
                </div>

                <!-- JOGOS POPULARES -->
                <h2 class="text-2xl font-bold mb-6 flex items-center"><i class="fas fa-star mr-2 text-yellow-400"></i> Mais Populares</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12">
                    <!-- Cards de jogos populares -->
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Fortune Tiger">
                        <img src="https://placehold.co/300x400/8421a0/ffffff?text=Fortune+Tiger" class="w-full h-auto">
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Aviator">
                        <img src="https://placehold.co/300x400/c51d31/ffffff?text=Aviator" class="w-full h-auto">
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Mines">
                        <img src="https://placehold.co/300x400/1e40af/ffffff?text=Mines" class="w-full h-auto">
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Gates of Olympus">
                        <img src="https://placehold.co/300x400/a5832c/ffffff?text=Gates+of+Olympus" class="w-full h-auto">
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Sweet Bonanza">
                        <img src="https://placehold.co/300x400/de3163/ffffff?text=Sweet+Bonanza" class="w-full h-auto">
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden" data-game-name="Spaceman">
                        <img src="https://placehold.co/300x400/4b0082/ffffff?text=Spaceman" class="w-full h-auto">
                    </div>
                </div>
            </div>

            <!-- SEÇÃO DE CASSINO -->
            <div id="casino-section" class="hidden">
                 <h2 class="text-3xl font-bold mb-8 flex items-center"><i class="fas fa-dice-five mr-3 text-yellow-400"></i> Nosso Cassino</h2>
                
                <!-- CAÇA-NÍQUEIS -->
                <h3 class="text-2xl font-bold mb-6 flex items-center"><i class="fas fa-gem mr-2 text-pink-500"></i> Caça-Níqueis Populares</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12">
                    <!-- Game Cards -->
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Wolf Gold">
                        <img src="https://placehold.co/300x400/4a4a4a/ffffff?text=Wolf+Gold" class="w-full h-auto">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Big Bass Bonanza">
                        <img src="https://placehold.co/300x400/2a6a9b/ffffff?text=Big+Bass+Bonanza" class="w-full h-auto">
                         <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <!-- Adicionar mais 28 jogos de slot para preencher a página -->
                    <script>
                        const slots = ["The Dog House", "Gonzo's Quest", "Starburst", "Book of Dead", "Legacy of Dead", "Fire Joker", "Reactoonz", "Money Train 2", "Jammin' Jars", "Razor Shark", "Dead or Alive 2", "Fruit Party", "Madame Destiny", "Mustang Gold", "John Hunter", "Great Rhino", "Chilli Heat", "Wild West Gold", "Viking Runecraft", "Moon Princess", "Rise of Olympus", "Honey Rush", "Tome of Madness", "Bonanza Megaways", "Extra Chilli", "White Rabbit", "Divine Fortune", "Mega Moolah"];
                        const slotColors = ["7b2cbf", "c71f37", "f9a620", "2d6a4f", "03045e", "d00000", "ff6d00", "5f0f40", "9a031e", "e85d04", "fb8500", "023047", "219ebc", "8ecae6", "ffb703", "14213d", "fca311", "e5e5e5", "000000", "6a040f", "9d0208", "d00000", "dc2f02", "e85d04", "f48c06", "faa307", "ffba08", "3f88c5"];
                        for(let i = 0; i < slots.length; i++) {
                            document.write(`
                                <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="${slots[i]}">
                                    <img src="https://placehold.co/300x400/${slotColors[i]}/ffffff?text=${encodeURIComponent(slots[i])}" class="w-full h-auto">
                                    <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                                        <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                                    </div>
                                </div>
                            `);
                        }
                    </script>
                </div>

                <!-- JOGOS DE MESA -->
                <h3 class="text-2xl font-bold mb-6 flex items-center"><i class="fas fa-chess-board mr-2 text-green-500"></i> Jogos de Mesa</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12">
                     <!-- Game Cards -->
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Roleta Brasileira">
                        <img src="https://placehold.co/300x400/004b23/ffffff?text=Roleta+Brasileira" class="w-full h-auto">
                         <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Blackjack Clássico">
                        <img src="https://placehold.co/300x400/b22222/ffffff?text=Blackjack" class="w-full h-auto">
                         <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Poker Texas Hold'em">
                        <img src="https://placehold.co/300x400/00008b/ffffff?text=Poker" class="w-full h-auto">
                         <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Baccarat">
                        <img src="https://placehold.co/300x400/8b0000/ffffff?text=Baccarat" class="w-full h-auto">
                         <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEÇÃO DE JOGOS -->
            <div id="games-section" class="hidden">
                 <h2 class="text-3xl font-bold mb-8 flex items-center"><i class="fas fa-gamepad mr-3 text-blue-500"></i> Jogos Originais</h2>
                 <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12">
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Aviator">
                        <img src="https://placehold.co/300x400/c51d31/ffffff?text=Aviator" class="w-full h-auto">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                    <div class="game-card bg-gray-900 rounded-lg overflow-hidden relative" data-game-name="Mines">
                        <img src="https://placehold.co/300x400/1e40af/ffffff?text=Mines" class="w-full h-auto">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center play-btn">
                            <button class="text-white bg-green-600 px-4 py-2 rounded-lg font-bold">Jogar</button>
                        </div>
                    </div>
                 </div>
            </div>

            <!-- SEÇÃO DE FUTEBOL DIGITAL -->
            <div id="futebol-digital-section" class="hidden futebol-digital-bg">
                <div class="futebol-digital-overlay rounded-lg p-4 md:p-8">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <!-- APOSTAS CBFD -->
                            <div class="mb-12">
                                <h2 class="text-3xl font-bold mb-2 flex items-center text-yellow-400"><i class="fas fa-futbol mr-3"></i> Apostas CBFD</h2>
                                <p class="text-gray-300 mb-6">TORNEIO DE ELITE CBFD - Hoje, 14 de Agosto de 2025 - 20:00</p>
                                <div class="bg-red-800 bg-opacity-80 border-l-4 border-red-400 text-white p-4 rounded-lg mb-6" role="alert">
                                    <p class="font-bold">Atenção!</p>
                                    <p>Após finalizar a aposta no bilhete, tire um print e envie para <a href="https://www.instagram.com/luccabet_oficial" target="_blank" class="font-bold underline hover:text-yellow-300">@luccabet_oficial</a> para validar.</p>
                                </div>
                                <div class="space-y-4" id="cbfd-games-list">
                                    <!-- Jogo 1 -->
                                    <div class="bg-gray-900 bg-opacity-70 p-4 rounded-lg border border-gray-800">
                                        <div class="flex items-center justify-between mb-4">
                                            <span class="font-bold text-lg">KIDS FC</span>
                                            <span class="text-gray-400 font-bold">VS</span>
                                            <span class="font-bold text-lg">FC VENCEDORES</span>
                                        </div>
                                        <div class="grid grid-cols-3 gap-2 text-center">
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="1" data-game-name="KIDS FC vs FC VENCEDORES" data-market="Resultado Final" data-selection="KIDS FC" data-odd="2.50">
                                                <span class="block text-sm">Casa</span><span class="font-bold">2.50</span>
                                            </button>
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="1" data-game-name="KIDS FC vs FC VENCEDORES" data-market="Resultado Final" data-selection="Empate" data-odd="3.10">
                                                <span class="block text-sm">Empate</span><span class="font-bold">3.10</span>
                                            </button>
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="1" data-game-name="KIDS FC vs FC VENCEDORES" data-market="Resultado Final" data-selection="FC VENCEDORES" data-odd="2.80">
                                                <span class="block text-sm">Fora</span><span class="font-bold">2.80</span>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Jogo 2 -->
                                    <div class="bg-gray-900 bg-opacity-70 p-4 rounded-lg border border-gray-800">
                                        <div class="flex items-center justify-between mb-4">
                                             <span class="font-bold text-lg">FC CORRUPÇÃO</span>
                                            <span class="text-gray-400 font-bold">VS</span>
                                            <span class="font-bold text-lg">CR PORCOS</span>
                                        </div>
                                        <div class="grid grid-cols-3 gap-2 text-center">
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="2" data-game-name="FC CORRUPÇÃO vs CR PORCOS" data-market="Resultado Final" data-selection="FC CORRUPÇÃO" data-odd="1.80">
                                                <span class="block text-sm">Casa</span><span class="font-bold">1.80</span>
                                            </button>
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="2" data-game-name="FC CORRUPÇÃO vs CR PORCOS" data-market="Resultado Final" data-selection="Empate" data-odd="3.50">
                                                <span class="block text-sm">Empate</span><span class="font-bold">3.50</span>
                                            </button>
                                            <button class="bet-option bg-gray-800 hover:bg-gray-700 p-2 rounded transition border-2 border-transparent" data-game-id="2" data-game-name="FC CORRUPÇÃO vs CR PORCOS" data-market="Resultado Final" data-selection="CR PORCOS" data-odd="4.00">
                                                <span class="block text-sm">Fora</span><span class="font-bold">4.00</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- BILHETE DE APOSTAS (Desktop) -->
                        <div class="hidden lg:block">
                             <div id="bet-slip-desktop" class="bg-gray-900 rounded-lg border border-gray-800 p-4 sticky top-24">
                                <!-- Conteúdo do bilhete injetado pelo JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEÇÃO DE AFILIADOS (OCULTA) -->
            <div id="affiliate-section" class="hidden mt-8">
                 <h2 class="text-2xl font-bold mb-6 flex items-center"><i class="fas fa-users mr-2 text-yellow-400"></i> Indique e Ganhe</h2>
            </div>
        </main>

        <!-- BILHETE DE APOSTAS (Mobile) -->
        <div id="bet-slip" class="lg:hidden fixed bottom-0 left-0 right-0 bg-gray-900 border-t-2 border-yellow-400 z-40 p-4 shadow-lg">
            <!-- Conteúdo do bilhete injetado pelo JS -->
        </div>

        <!-- MODAL DE JOGO -->
        <div id="game-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4">
            <div class="bg-gray-900 rounded-lg w-full max-w-3xl h-3/4 flex flex-col p-4 border-2 border-yellow-400 shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="game-modal-title" class="text-xl font-bold text-yellow-400">Nome do Jogo</h3>
                    <button id="close-game-modal" class="text-white text-2xl">&times;</button>
                </div>
                <div class="flex-grow bg-black rounded flex items-center justify-center">
                    <p class="text-gray-500">Simulação de jogo...</p>
                </div>
            </div>
        </div>


        <footer class="bg-gray-900 border-t border-gray-800 mt-12 py-8 text-center text-gray-400">
            <p>&copy; 2025 LUCCABET. Todos os direitos reservados.</p>
            <p class="text-sm">Apostas são para maiores de 18 anos. Jogue com responsabilidade.</p>
        </footer>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // ================================================================== //
        // SIMULAÇÃO DE BANCO DE DADOS E AUTENTICAÇÃO
        // ================================================================== //
        const usersDB = {
            getUsers: () => JSON.parse(localStorage.getItem('luccabet_users_v3') || '{}'),
            saveUsers: (users) => localStorage.setItem('luccabet_users_v3', JSON.stringify(users)),
            findUser: (identifier) => {
                const users = usersDB.getUsers();
                const lowerId = identifier.toLowerCase();
                return Object.values(users).find(u => u.email.toLowerCase() === lowerId || u.username.toLowerCase() === lowerId) || null;
            },
            createUser: (userData) => {
                const users = usersDB.getUsers();
                if (Object.values(users).some(u => u.email.toLowerCase() === userData.email.toLowerCase())) {
                    return { error: 'Este E-mail já está em uso.' };
                }
                if (Object.values(users).some(u => u.username.toLowerCase() === userData.username.toLowerCase())) {
                    return { error: 'Este Nome de Usuário já está em uso.' };
                }
                const userId = `user_${Date.now()}`;
                users[userId] = {
                    id: userId,
                    ...userData,
                    password: btoa(userData.password), // Apenas para simulação. Use hash em produção.
                    balance: 1000, // Saldo inicial para teste
                    createdAt: new Date().toISOString(),
                };
                usersDB.saveUsers(users);
                return { user: users[userId] };
            },
            updateUser: (userId, data) => {
                const users = usersDB.getUsers();
                if (!users[userId]) return { error: 'Usuário não encontrado' };
                users[userId] = { ...users[userId], ...data };
                usersDB.saveUsers(users);
                return { user: users[userId] };
            }
        };

        let currentUser = null;

        // Elementos da UI de Autenticação
        const loginScreen = document.getElementById('login-screen');
        const mainApp = document.getElementById('main-app');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const showRegisterBtn = document.getElementById('show-register');
        const showLoginBtn = document.getElementById('show-login');
        const authErrorMessage = document.getElementById('auth-error-message');
        
        // Funções de Autenticação
        const startUserSession = (user) => {
            currentUser = user;
            localStorage.setItem('luccabet_current_user_v3', JSON.stringify(user));
            loginScreen.classList.add('hidden');
            mainApp.classList.remove('hidden');
            updateUserData();
            document.getElementById('welcome-username').textContent = currentUser.username;
            document.getElementById('home-tab').click();
        };

        const checkLoggedInUser = () => {
            const userData = localStorage.getItem('luccabet_current_user_v3');
            if (userData) {
                const user = JSON.parse(userData);
                const dbUser = usersDB.getUsers()[user.id];
                if (dbUser) startUserSession(dbUser);
                else loginScreen.classList.remove('hidden');
            } else {
                loginScreen.classList.remove('hidden');
            }
        };

        const logout = () => {
            currentUser = null;
            localStorage.removeItem('luccabet_current_user_v3');
            window.location.reload();
        };

        const showAuthError = (message) => {
            authErrorMessage.textContent = message;
            authErrorMessage.classList.remove('hidden');
        };
        const hideAuthError = () => authErrorMessage.classList.add('hidden');

        const showAuthView = (view) => {
            hideAuthError();
            loginForm.classList.toggle('hidden', view === 'register');
            registerForm.classList.toggle('hidden', view === 'login');
        };

        // Validação de Formulário
        const validateEmail = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        const isOver18 = (birthdate) => {
            if (!birthdate) return false;
            const today = new Date();
            const birthDate = new Date(birthdate);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) age--;
            return age >= 18;
        };
        const validateField = (input, condition, errorMsg) => {
            const formGroup = input.closest('.form-group');
            const errorDiv = formGroup.querySelector('.error-message');
            if (!condition) {
                input.classList.add('invalid');
                if (errorDiv) {
                    errorDiv.textContent = errorMsg;
                    errorDiv.style.display = 'block';
                }
                return false;
            }
            input.classList.remove('invalid');
            if (errorDiv) errorDiv.style.display = 'none';
            return true;
        };

        // Listeners de Autenticação
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            hideAuthError();
            const identifier = document.getElementById('login-identifier').value.trim();
            const password = document.getElementById('login-password').value;
            const user = usersDB.findUser(identifier);
            if (user && user.password === btoa(password)) {
                startUserSession(user);
            } else {
                showAuthError('Credenciais inválidas.');
            }
        });

        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            hideAuthError();
            const fullNameInput = document.getElementById('reg-fullname');
            const usernameInput = document.getElementById('reg-username');
            const emailInput = document.getElementById('reg-email');
            const birthdateInput = document.getElementById('reg-birthdate');
            const passwordInput = document.getElementById('reg-password');
            const termsInput = document.getElementById('reg-terms');

            let isValid = true;
            isValid &= validateField(fullNameInput, fullNameInput.value.trim().length > 2, 'Nome completo é obrigatório.');
            isValid &= validateField(usernameInput, /^[a-zA-Z0-9_]{3,15}$/.test(usernameInput.value), 'Usuário: 3-15 caracteres (letras, números, _).');
            isValid &= validateField(emailInput, validateEmail(emailInput.value), 'Por favor, insira um e-mail válido.');
            isValid &= validateField(birthdateInput, isOver18(birthdateInput.value), 'Você deve ter mais de 18 anos.');
            isValid &= validateField(passwordInput, passwordInput.value.length >= 6, 'A senha deve ter no mínimo 6 caracteres.');
            
            if (!termsInput.checked) {
                isValid = false;
                showAuthError("Você deve aceitar os Termos de Uso.");
            }
            if (!isValid) return;

            const { user, error } = usersDB.createUser({
                fullName: fullNameInput.value.trim(),
                username: usernameInput.value.trim(),
                email: emailInput.value.trim(),
                birthdate: birthdateInput.value,
                password: passwordInput.value
            });

            if (user) startUserSession(user);
            else showAuthError(error);
        });

        showRegisterBtn.addEventListener('click', () => showAuthView('register'));
        showLoginBtn.addEventListener('click', () => showAuthView('login'));

        // ================================================================== //
        // UI PRINCIPAL, NAVEGAÇÃO E DADOS DO USUÁRIO
        // ================================================================== //
        const userMenuBtn = document.getElementById('user-menu-btn');
        const userMenu = document.getElementById('user-menu');
        const tabs = document.querySelectorAll('nav button');
        const sections = document.querySelectorAll('main > div[id$="-section"]');

        const handleTabClick = (activeTab) => {
            tabs.forEach(tab => tab.classList.remove('bg-gray-800', 'text-yellow-400'));
            sections.forEach(section => section.classList.add('hidden'));

            activeTab.classList.add('bg-gray-800', 'text-yellow-400');
            const activeSection = document.getElementById(activeTab.id.replace('-tab', '-section'));
            if (activeSection) activeSection.classList.remove('hidden');
        };

        tabs.forEach(tab => tab.addEventListener('click', () => handleTabClick(tab)));
        
        document.getElementById('logout-btn').addEventListener('click', logout);
        userMenuBtn.addEventListener('click', () => userMenu.classList.toggle('hidden'));
        document.addEventListener('click', (e) => {
            if (!userMenuBtn.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
        });
        document.getElementById('affiliate-link').addEventListener('click', (e) => {
            e.preventDefault();
             handleTabClick({ id: 'affiliate-tab' }); // Simula o clique na aba
            userMenu.classList.add('hidden');
        });

        const updateUserData = () => {
            if (!currentUser) return;
            const formattedBalance = `CB$ ${currentUser.balance.toFixed(2).replace('.', ',')}`;
            document.getElementById('user-balance').textContent = formattedBalance;
            document.getElementById('welcome-balance').textContent = formattedBalance;
        };

        const updateUserBalance = (newBalance) => {
            if (!currentUser) return;
            currentUser.balance = newBalance;
            usersDB.updateUser(currentUser.id, { balance: newBalance });
            updateUserData();
        };

        const showNotification = (message, color = 'blue', duration = 5000) => {
            const notification = document.createElement('div');
            notification.className = `fixed top-24 right-4 bg-gray-900 border-l-4 border-${color}-500 px-4 py-3 rounded-lg shadow-lg text-sm flex items-center z-50 transition-opacity duration-300`;
            notification.innerHTML = `<span>${message}</span>`;
            document.body.appendChild(notification);
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, duration);
        };
        
        // ================================================================== //
        // LÓGICA DO CAROUSEL
        // ================================================================== //
        const slides = document.querySelectorAll('.carousel-slide');
        let currentSlide = 0;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
        }

        document.getElementById('next-slide').addEventListener('click', () => {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        });

        document.getElementById('prev-slide').addEventListener('click', () => {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        });
        
        setInterval(() => {
             document.getElementById('next-slide').click();
        }, 5000);

        // ================================================================== //
        // LÓGICA DO MODAL DE JOGO
        // ================================================================== //
        const gameModal = document.getElementById('game-modal');
        const gameModalTitle = document.getElementById('game-modal-title');
        const gameCards = document.querySelectorAll('.game-card');

        gameCards.forEach(card => {
            card.addEventListener('click', () => {
                const gameName = card.dataset.gameName;
                gameModalTitle.textContent = gameName;
                gameModal.classList.remove('hidden');
            });
        });

        document.getElementById('close-game-modal').addEventListener('click', () => {
            gameModal.classList.add('hidden');
        });

        // ================================================================== //
        // LÓGICA DO BILHETE DE APOSTAS (CBFD)
        // ================================================================== //
        let betSlip = [];
        const betSlipContainerMobile = document.getElementById('bet-slip');
        const betSlipContainerDesktop = document.getElementById('bet-slip-desktop');
        const cbfdGamesList = document.getElementById('cbfd-games-list');

        const toggleBetSelection = (event) => {
            const target = event.target.closest('.bet-option');
            if (!target) return;

            const selectionData = {
                gameId: target.dataset.gameId,
                gameName: target.dataset.gameName,
                market: target.dataset.market,
                selection: target.dataset.selection,
                odd: parseFloat(target.dataset.odd)
            };

            const existingSelectionIndex = betSlip.findIndex(item => item.gameId === selectionData.gameId);
            if (existingSelectionIndex > -1) {
                if (betSlip[existingSelectionIndex].selection === selectionData.selection) {
                    betSlip.splice(existingSelectionIndex, 1);
                } else {
                    betSlip[existingSelectionIndex] = selectionData;
                }
            } else {
                betSlip.push(selectionData);
            }
            renderBetSlip();
            updateSelectedButtons();
        };

        const updateSelectedButtons = () => {
            document.querySelectorAll('.bet-option').forEach(btn => {
                const gameId = btn.dataset.gameId;
                const selection = btn.dataset.selection;
                const isInSlip = betSlip.some(item => item.gameId === gameId && item.selection === selection);
                btn.classList.toggle('selected', isInSlip);
            });
        };
        
        const renderBetSlip = () => {
            const slipIsEmpty = betSlip.length === 0;
            const betAmountInput = document.querySelector('#slip-bet-amount');
            const betAmount = betAmountInput ? parseFloat(betAmountInput.value) || 0 : 0;
            
            const html = slipIsEmpty ? generateEmptySlipHTML() : generateSlipHTML(betAmount);
            betSlipContainerDesktop.innerHTML = html;
            
            if (window.innerWidth < 1024) {
                betSlipContainerMobile.innerHTML = html;
                betSlipContainerMobile.classList.toggle('active', !slipIsEmpty);
            }

            if (!slipIsEmpty) {
                document.querySelectorAll('.slip-bet-amount-input').forEach(input => {
                    input.addEventListener('input', (e) => {
                        const newAmount = e.target.value;
                        document.querySelectorAll('.slip-bet-amount-input').forEach(i => i.value = newAmount);
                        renderBetSlip();
                    });
                });
                document.querySelectorAll('.place-bet-btn').forEach(btn => btn.addEventListener('click', placeBet));
                document.querySelectorAll('.remove-slip-item').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const gameId = e.target.closest('.remove-slip-item').dataset.gameId;
                        betSlip = betSlip.filter(item => item.gameId !== gameId);
                        renderBetSlip();
                        updateSelectedButtons();
                    });
                });
            }
        };
        
        const generateEmptySlipHTML = () => `<h3 class="text-lg font-bold text-yellow-400 mb-2">Bilhete de Apostas</h3><p class="text-sm text-gray-400 text-center py-4">Selecione uma aposta para começar.</p>`;

        const generateSlipHTML = (betAmount) => {
            const totalOdds = betSlip.reduce((acc, item) => acc * item.odd, 1);
            const potentialWinnings = betAmount * totalOdds;

            const itemsHTML = betSlip.map(item => `
                <div class="bg-gray-800 p-3 rounded mb-2">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-xs text-gray-400">${item.market}</p>
                            <p class="font-bold text-sm">${item.selection}</p>
                            <p class="text-xs text-gray-400">${item.gameName}</p>
                        </div>
                        <div class="flex items-center">
                             <span class="font-bold text-yellow-400 mr-4">${item.odd.toFixed(2)}</span>
                             <button class="remove-slip-item text-red-500 hover:text-red-400 text-2xl font-bold leading-none" data-game-id="${item.gameId}">&times;</button>
                        </div>
                    </div>
                </div>`).join('');

            return `
                <h3 class="text-lg font-bold text-yellow-400 mb-4">Bilhete de Apostas</h3>
                <div class="max-h-48 md:max-h-60 overflow-y-auto pr-2">${itemsHTML}</div>
                <div class="mt-4 pt-4 border-t border-gray-700">
                    <div class="flex justify-between items-center mb-2 text-sm">
                        <span>Total Odds:</span>
                        <span class="font-bold text-yellow-400">${totalOdds.toFixed(2)}x</span>
                    </div>
                    <div class="mb-4">
                        <label for="slip-bet-amount" class="text-sm mb-1 block">Valor da Aposta (CB$)</label>
                        <input type="number" id="slip-bet-amount" class="slip-bet-amount-input w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="0,00" value="${betAmount > 0 ? betAmount : ''}">
                    </div>
                    <div class="flex justify-between items-center font-bold text-lg mb-4">
                        <span>Ganhos Potenciais:</span>
                        <span class="text-green-500">CB$ ${potentialWinnings.toFixed(2).replace('.', ',')}</span>
                    </div>
                    <button class="place-bet-btn w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded transition">Apostar</button>
                </div>`;
        };
        
        const placeBet = () => {
            const betAmount = parseFloat(document.getElementById('slip-bet-amount').value);
            if (!betAmount || betAmount <= 0) {
                showNotification("Por favor, insira um valor de aposta válido.", "red");
                return;
            }
            if (betAmount > currentUser.balance) {
                showNotification("Saldo insuficiente para esta aposta.", "red");
                return;
            }
            if (betSlip.length === 0) {
                showNotification("Seu bilhete de apostas está vazio.", "red");
                return;
            }

            updateUserBalance(currentUser.balance - betAmount);
            const totalOdds = betSlip.reduce((acc, item) => acc * item.odd, 1);
            const potentialWinnings = betAmount * totalOdds;
            showNotification(`Aposta de CB$${betAmount.toFixed(2)} realizada! Ganhos potenciais: CB$${potentialWinnings.toFixed(2)}`, 'green');
            
            betSlip = [];
            renderBetSlip();
            updateSelectedButtons();
        };

        cbfdGamesList.addEventListener('click', toggleBetSelection);

        // INICIALIZAÇÃO GERAL
        checkLoggedInUser();
        renderBetSlip();
    });
    </script>
</body>
</html>
